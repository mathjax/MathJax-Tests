import {ParserTest} from './parser-tests.js';
import {Configuration} from 'mathjax3/input/tex/Configuration.js';
import {CharacterMap} from 'mathjax3/input/tex/SymbolMap.js';
import ParseMethods from 'mathjax3/input/tex/ParseMethods.js';


class ParserMultirelTest extends ParserTest {

  constructor() {
    // Just some things bogus attributes for testing.
    new CharacterMap('shadow', ParseMethods.mathchar0mo, {
      sim: ['\u223C', {something: 'nothing'}],
      simeq: ['\u2243', {something: 'nothing'}],
      asymp: ['\u224D', {something: 'else'}],
      cong: ['\u224D', {anything: 'nothing'}],
      lesssim: ['\u2272', {lspace: '1pt'}],
      gtrsim: ['\u2278', {rspace: '1pt'}]
    });
    Configuration.create('multirel-test', {handler: {macro: ['shadow']}});
    super();
    this.packages = ['base', 'ams', 'multirel-test'];
  }

}

let parserTest = new ParserMultirelTest();


parserTest.runTest(
  'Shift Left', 'a<<b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {
        "displaystyle": true,
        "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "<"}],
         "isEmbellished": true},
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Less Equal', 'a<=b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {
        "displaystyle": true,
        "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "="}],
         "isEmbellished": true},
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {
           "displaystyle": true,
           "scriptlevel": 0,
           "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Op Op', 'a++b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 2,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "+"}],
       "isEmbellished": true},
      {"kind": "mo",
       "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "+"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Op Rel', 'a+=b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "+"}],
       "isEmbellished": true},
      {"kind": "mo",
       "texClass": 3,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "="}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Postfix Op Op', 'a++',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 2,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "+"}],
          "isEmbellished": true},
        {"kind": "mo",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "postfix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "+"}],
          "isEmbellished": true}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Postfix Rel Rel', 'a==',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
          "texClass": 3,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "postfix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "="},
            {"kind": "text",
              "text": "="}],
          "isEmbellished": true}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Bars', 'a||b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "TeXAtom",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0},
       "properties": {},
       "childNodes": [
         {"kind": "mrow",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
                        "scriptlevel": 0},
          "properties": {},
          "childNodes": [
            {"kind": "mo",
             "texClass": 0,
             "attributes": {"stretchy": false},
             "inherited": {"displaystyle": true,
                           "scriptlevel": 0,
                           "form": "infix",
                           "fence": true,
                           "stretchy": true,
                           "symmetric": true},
             "properties": {},
             "childNodes": [
               {"kind": "text",
                "text": "|"}],
             "isEmbellished": true}],
          "isInferred": true,
          "isEmbellished": true}],
       "isEmbellished": true},
      {"kind": "TeXAtom",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0},
          "properties": {},
          "childNodes": [
            {"kind": "mrow",
              "texClass": 0,
              "attributes": {},
              "inherited": {"displaystyle": true,
                "scriptlevel": 0},
              "properties": {},
              "childNodes": [
                {"kind": "mo",
                  "texClass": 0,
                  "attributes": {"stretchy": false},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix",
                    "fence": true,
                    "stretchy": true,
                    "symmetric": true},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": "|"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Fences', 'a))b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 5,
       "attributes": {"stretchy": false},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix",
                     "fence": true,
                     "stretchy": true,
                     "symmetric": true},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": ")"}],
       "isEmbellished": true},
      {"kind": "mo",
       "texClass": 5,
          "attributes": {"stretchy": false},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix",
            "fence": true,
            "stretchy": true,
            "symmetric": true},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": ")"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Rel Rel', 'a\\rightarrow=b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 3,
       "attributes": {"stretchy": false},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "stretchy": true,
                     "accent": true,
                     "form": "infix"},
       "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "→"},
            {"kind": "text",
              "text": "="}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix 4Rel', 'a=<>=b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 3,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
              "text": "="},
            {"kind": "text",
              "text": "<"},
            {"kind": "text",
              "text": ">"},
            {"kind": "text",
              "text": "="}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Prefix Rel Rel', '==a',
  {"kind": "math",
 "texClass": 3,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 3,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mo",
       "texClass": 3,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "prefix"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "="},
         {"kind": "text",
              "text": "="}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "a"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Prefix Op Op', '++a',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mo",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "prefix"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "+"}],
       "isEmbellished": true},
      {"kind": "mo",
       "texClass": 2,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "+"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "a"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Font 1', 'a <=\\mathrm{>} b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "="}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                "scriptlevel": 0},
              "properties": {},
              "childNodes": [
                {"kind": "mo",
                  "texClass": 3,
                  "attributes": {},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Font 2', 'a <=\\mathrm{=>} b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "="}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                "scriptlevel": 0},
              "properties": {},
              "childNodes": [
                {"kind": "mo",
                  "texClass": 3,
                  "attributes": {},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": "="},
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Font 3', 'a <=\\mathrm{=}\\mathrm{>} b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "="}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0},
            "properties": {},
            "childNodes": [
              {"kind": "mo",
               "texClass": 3,
               "attributes": {},
               "inherited": {"displaystyle": true,
                             "scriptlevel": 0,
                             "form": "infix"},
               "properties": {},
               "childNodes": [
                 {"kind": "text",
                  "text": "="}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "TeXAtom",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0},
          "properties": {},
          "childNodes": [
            {"kind": "mrow",
              "texClass": 3,
              "attributes": {},
              "inherited": {"displaystyle": true,
                "scriptlevel": 0},
              "properties": {},
              "childNodes": [
                {"kind": "mo",
                  "texClass": 3,
                  "attributes": {},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Mathvariant 1', 'a <\\equiv \\mathrm{=>}\\thickapprox b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "≡"}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0},
            "properties": {},
            "childNodes": [
              {"kind": "mo",
               "texClass": 3,
               "attributes": {},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": "="},
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mo",
          "texClass": 3,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {"variantForm": true},
          "childNodes": [
            {"kind": "text",
              "text": "≈"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Mathvariant 2', 'a <\\equiv \\mathrm{=>}\\thickapprox\\thicksim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "≡"}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0},
            "properties": {},
            "childNodes": [
              {"kind": "mo",
               "texClass": 3,
               "attributes": {},
               "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": "="},
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mo",
          "texClass": 3,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {"variantForm": true},
          "childNodes": [
            {"kind": "text",
              "text": "≈"},
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Mathvariant 3', 'a <\\equiv =>\\thickapprox\\thicksim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"rspace": "0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "≡"},
           {"kind": "text",
            "text": "="},
           {"kind": "text",
            "text": ">"}],
         "isEmbellished": true},
        {"kind": "mo",
          "texClass": 3,
          "attributes": {"lspace": "0pt"},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {"variantForm": true},
          "childNodes": [
            {"kind": "text",
              "text": "≈"},
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Multirel Mathvariant 4', 'a <\\equiv \\mathrm{=}\\mathrm{>}' +
    '\\thickapprox\\thicksim\\frown\\smile=\\updownarrow b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "<"},
           {"kind": "text",
            "text": "≡"}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0},
            "properties": {},
            "childNodes": [
              {"kind": "mo",
               "texClass": 3,
               "attributes": {},
               "inherited": {"displaystyle": true,
                             "scriptlevel": 0,
                             "form": "infix"},
               "properties": {},
               "childNodes": [
                 {"kind": "text",
                  "text": "="}],
               "isEmbellished": true}],
            "isInferred": true,
            "isEmbellished": true}],
         "isEmbellished": true},
        {"kind": "TeXAtom",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0},
         "properties": {},
         "childNodes": [
           {"kind": "mrow",
            "texClass": 3,
            "attributes": {},
            "inherited": {"displaystyle": true,
                          "scriptlevel": 0},
            "properties": {},
              "childNodes": [
                {"kind": "mo",
                  "texClass": 3,
                  "attributes": {},
                  "inherited": {"displaystyle": true,
                    "scriptlevel": 0,
                    "form": "infix"},
                  "properties": {},
                  "childNodes": [
                    {"kind": "text",
                      "text": ">"}],
                  "isEmbellished": true}],
              "isInferred": true,
              "isEmbellished": true}],
          "isEmbellished": true},
        {"kind": "mo",
          "texClass": 3,
          "attributes": {"rspace": "0pt"},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {"variantForm": true},
          "childNodes": [
            {"kind": "text",
              "text": "≈"},
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mo",
          "texClass": 3,
          "attributes": {"lspace": "0pt",
                         "stretchy": false},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "⌢"},
            {"kind": "text",
              "text": "⌣"},
            {"kind": "text",
              "text": "="},
            {"kind": "text",
              "text": "↕"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Simple Shadow Rel', 'a \\sim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {something: "nothing"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 1', 'a =\\sim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "="}],
         "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "lspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 2', 'a \\sim\\simeq b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "∼"},
            {"kind": "text",
              "text": "≃"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 3', 'a \\sim\\asymp b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "∼"}],
          "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "else",
                        "lspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "≍"}],
         "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 4', 'a \\sim\\simeq\\asymp b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
            {"kind": "text",
              "text": "∼"},
            {"kind": "text",
              "text": "≃"}],
          "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "else",
                        "lspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
            {"kind": "text",
              "text": "≍"}],
         "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 5', 'a \\sim\\asymp\\simeq b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
            {"kind": "text",
             "text": "∼"}
         ],
         "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "else",
                        "lspace":"0pt",
                        "rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
            {"kind": "text",
             "text": "≍"}
         ],
         "isEmbellished": true},
                {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "lspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
            {"kind": "text",
              "text": "≃"}],
                 "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Extra Attribute Rel 6', 'a \\sim\\cong b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"something": "nothing",
                        "rspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "∼"}
            ],
          "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"anything": "nothing",
                        "lspace":"0pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "≍"}],
         "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Infix Stretchy Right', 'a=\\rightarrow b',
  {"kind": "math",
 "texClass": 0,
 "attributes": {"display": "block"},
 "inherited": {"displaystyle": true,
               "scriptlevel": 0},
 "properties": {},
 "childNodes": [
   {"kind": "mrow",
    "texClass": 0,
    "attributes": {},
    "inherited": {"displaystyle": true,
                  "scriptlevel": 0},
    "properties": {},
    "childNodes": [
      {"kind": "mi",
       "texClass": 0,
       "attributes": {},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "mathvariant": "italic"},
       "properties": {},
       "childNodes": [
         {"kind": "text",
          "text": "a"}]},
      {"kind": "mo",
       "texClass": 3,
       "attributes": {"stretchy": false},
       "inherited": {"displaystyle": true,
                     "scriptlevel": 0,
                     "form": "infix"},
       "properties": {},
          "childNodes": [
            {"kind": "text",
             "text": "="},
            {"kind": "text",
              "text": "→"}
            ],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Preset Lspace Rspace', 'a\\lesssim\\gtrsim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"lspace": "1pt",
                        "rspace": "1pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "≲"},
            {"kind": "text",
              "text": "≸"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.runTest(
  'Preset Rspace Lspace', 'a\\gtrsim\\lesssim b',
  {"kind": "math",
   "texClass": 0,
   "attributes": {"display": "block"},
   "inherited": {"displaystyle": true,
                 "scriptlevel": 0},
   "properties": {},
   "childNodes": [
     {"kind": "mrow",
      "texClass": 0,
      "attributes": {},
      "inherited": {"displaystyle": true,
                    "scriptlevel": 0},
      "properties": {},
      "childNodes": [
        {"kind": "mi",
         "texClass": 0,
         "attributes": {},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "mathvariant": "italic"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "a"}]},
        {"kind": "mo",
         "texClass": 3,
         "attributes": {"rspace": "1pt"},
         "inherited": {"displaystyle": true,
                       "scriptlevel": 0,
                       "form": "infix"},
         "properties": {},
         "childNodes": [
           {"kind": "text",
            "text": "≸"}],
         "isEmbellished": true},
        {"kind": "mo",
         "texClass": 3,
          "attributes": {"lspace": "1pt"},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "form": "infix"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "≲"}],
          "isEmbellished": true},
        {"kind": "mi",
          "texClass": 0,
          "attributes": {},
          "inherited": {"displaystyle": true,
            "scriptlevel": 0,
            "mathvariant": "italic"},
          "properties": {},
          "childNodes": [
            {"kind": "text",
              "text": "b"}]}],
      "isInferred": true}]}
);


parserTest.printTime();
